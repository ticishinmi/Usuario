unit UCadUsuario;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, UCadPadrao, Vcl.Menus, Vcl.ComCtrls,
  Vcl.StdCtrls, Vcl.Mask, Vcl.DBCtrls, Vcl.ExtCtrls, Vcl.Buttons,
  FireDAC.Stan.Intf, FireDAC.Stan.Option, FireDAC.Stan.Param,
  FireDAC.Stan.Error, FireDAC.DatS, FireDAC.Phys.Intf, FireDAC.DApt.Intf,
  FireDAC.Stan.Async, FireDAC.DApt, FireDAC.Comp.DataSet, FireDAC.Comp.Client,
  Datasnap.Provider, Data.DB, Datasnap.DBClient, UFuncao;

type
  TFCadUsuario = class(TFPadrao)
    DBEdit1: TDBEdit;
    Label2: TLabel;
    DBCheckBox1: TDBCheckBox;
    PnData: TPanel;
    Label3: TLabel;
    Label4: TLabel;
    DBText1: TDBText;
    DBText2: TDBText;
    DBEdit2: TDBEdit;
    Label5: TLabel;
    Label6: TLabel;
    DBEdit3: TDBEdit;
    DBEdit4: TDBEdit;
    Label7: TLabel;
    Label8: TLabel;
    DBComboBox1: TDBComboBox;
    procedure FormCreate(Sender: TObject);
    procedure btSalvarClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FCadUsuario: TFCadUsuario;

implementation

{$R *.dfm}

uses UDM;

procedure TFCadUsuario.btSalvarClick(Sender: TObject);
begin
  if DBEdit1.Text <> '' then
     ValidarEMail(DBEdit1.Text);
  inherited;
end;

procedure TFCadUsuario.FormCreate(Sender: TObject);
begin
  Conexao    := DM.Connection;
  Transacao  := DM.Transaction;
  CDSPadrao  := DM.cdsusuario;
  DSPadrao   := DM.dsUsuario;
  TableName  := 'USUARIO';
  ChaveTable := 'USU_COD';
  CampoLabel := 'USU_NOME';
  Descricao  := 'Código';

  inherited;
end;

end.
